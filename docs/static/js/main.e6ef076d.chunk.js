(this["webpackJsonpflashcardly-web"]=this["webpackJsonpflashcardly-web"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(6),i=n.n(s),o=(n(12),n(3)),a=n(2),l=(n(13),{getValue:function(e){var t,n=null!==(t=localStorage.getItem(e))&&void 0!==t?t:"null";return Promise.resolve().then((function(){return JSON.parse(n)}))},setValue:function(e,t){var n=null==t?JSON.stringify(null):JSON.stringify(t);return Promise.resolve().then((function(){return localStorage.setItem(e,n)}))},remove:function(){},hasKey:function(){}}),u={getValue:function(e){return console.error("Storage not implemented"),console.log("tried to load ".concat(e)),Promise.resolve()},setValue:function(e,t){return console.error("Storage not implemented"),console.log("tried to set ".concat(e)),Promise.resolve()},remove:function(){},hasKey:function(){}},j=r.a.createContext(u),d=n(4),h=Object(c.createContext)({options:{selectedDeck:"",theme:"light"},setOptions:function(){}}),b=n(0),O=function(e){var t=e.children,n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",r=Object(c.useState)({selectedDeck:"ES-EN",theme:n}),s=Object(a.a)(r,2),i=s[0],l=s[1],u=Object(c.useContext)(j);return Object(c.useEffect)((function(){u.getValue("preferences").then((function(e){if(e){var t=Object.entries(i).reduce((function(t,n){var c,r=Object(a.a)(n,2),s=r[0],i=r[1],l=null!==(c=e[s])&&void 0!==c?c:i;return Object(o.a)(Object(o.a)({},t),{},Object(d.a)({},s,l))}),{});l(t)}}))}),[]),Object(b.jsx)(h.Provider,{value:{options:i,setOptions:l},children:t})},f=n(7),m=function(e){var t,n=e.deck,r=Object(c.useState)(0),s=Object(a.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(!0),u=Object(a.a)(l,2),j=u[0],d=u[1],h=function(){o(Math.floor(Math.random()*n.length)),d(!0)};Object(c.useEffect)((function(){h()}),[n]);var O=null!==(t=n[i])&&void 0!==t?t:{front:"",back:""},f=j?O.front:O.back;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{onClick:function(){d(!j)},className:"card",children:[Object(b.jsx)("h1",{children:f}),Object(b.jsx)("div",{style:{position:"absolute",bottom:"0"},children:Object(b.jsx)("span",{children:"click card to show reverse"})})]}),Object(b.jsx)("button",{className:"show_random_card_btn",onClick:h,children:"Random Card"})]})},x=function(){var e=Object(c.useContext)(h),t=e.options,n=e.setOptions,r=Object(c.useContext)(j);return[t,function(e){r.setValue("preferences",e).then((function(){return n(e)}))}]},p=[{fileName:"ES-EN",title:"Spanish to English"},{fileName:"FR-EN",title:"French to English"},{fileName:"EN-ES",title:"English to Spanish"},{fileName:"EN-FR",title:"English to French"}],v=function(e){e.onUpdate,Object(c.useContext)(j);var t=x(),n=Object(a.a)(t,2),r=n[0],s=n[1];return Object(b.jsx)("section",{children:Object(b.jsxs)("fieldset",{className:"option-list",onChange:function(e){var t=e.target.value,n=Object(o.a)(Object(o.a)({},r),{},{selectedDeck:t});s(n)},children:[Object(b.jsx)("legend",{className:"option-header",children:"Choose your deck"}),Object(b.jsx)("ul",{style:{display:"inline-block",listStyle:"none",paddingLeft:"0"},children:p.map((function(e){return Object(b.jsx)("li",{className:"option-card",style:{textAlign:"left"},children:Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{value:e.fileName,name:"deck",type:"radio",checked:r.selectedDeck===e.fileName}),"\xa0",Object(b.jsx)("span",{children:e.title})]})})}))})]})})},g=function(){var e=x(),t=Object(a.a)(e,1)[0],n=Object(c.useState)(!1),r=Object(a.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)([]),l=Object(a.a)(o,2),u=l[0],d=l[1],h=Object(c.useContext)(j),b=function(e){return(t="/data",n=e,fetch("".concat(t,"/").concat(n,".json")).then((function(e){return e.json()}))).then((function(e){return h.setValue("deck",e).then((function(){return d(e)}))}));var t,n};return Object(c.useEffect)((function(){h.getValue("deck").then((function(e){return e?function(e){return Promise.resolve(e).then(d)}(e):b(t.selectedDeck)})).then((function(){return i(!0)}))}),[]),Object(c.useEffect)((function(){s&&b(t.selectedDeck)}),[t.selectedDeck]),[u]},k=function(e){Object(f.a)(e);var t=x(),n=(Object(a.a)(t,1)[0],g()),c=Object(a.a)(n,1)[0];return c.length?Object(b.jsxs)("article",{children:[Object(b.jsx)("h1",{className:"logo",children:"Flashcardly!"}),Object(b.jsx)("section",{children:Object(b.jsx)(m,{deck:c})}),Object(b.jsx)("section",{style:{paddingTop:"2rem"},children:Object(b.jsx)(v,{})})]}):Object(b.jsx)("article",{children:"...loading"})};var N=function(){var e=x(),t=Object(a.a)(e,2),n=t[0],c=t[1],r=n.theme,s="light"===r;return Object(b.jsxs)("div",{className:"App ".concat(r),children:[Object(b.jsx)("div",{className:"switch-container",children:Object(b.jsxs)("label",{className:"switch",children:[Object(b.jsx)("input",{onChange:function(){var e=s?"dark":"light";c(Object(o.a)(Object(o.a)({},n),{},{theme:e}))},checked:s,type:"checkbox"}),Object(b.jsxs)("span",{className:"slider round",children:[Object(b.jsx)("span",{className:"theme-icon--dark",children:"\ud83c\udf15"}),Object(b.jsx)("span",{className:"theme-icon--light",children:"\ud83c\udf1e"})]})]})}),Object(b.jsx)(k,{})]})},S=function(){return Object(b.jsx)(j.Provider,{value:l,children:Object(b.jsx)(O,{children:Object(b.jsx)(N,{})})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root")),y()}},[[15,1,2]]]);
//# sourceMappingURL=main.e6ef076d.chunk.js.map