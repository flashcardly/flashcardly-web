(this["webpackJsonpflashcardly-web"]=this["webpackJsonpflashcardly-web"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(6),s=n.n(i),a=(n(12),n(3)),o=n(2),l=(n(13),{getValue:function(e){var t,n=null!==(t=localStorage.getItem(e))&&void 0!==t?t:"null";return Promise.resolve().then((function(){return JSON.parse(n)}))},setValue:function(e,t){var n=null==t?JSON.stringify(null):JSON.stringify(t);return Promise.resolve().then((function(){return localStorage.setItem(e,n)}))},remove:function(){},hasKey:function(){}}),u={getValue:function(e){return console.error("Storage not implemented"),console.log("tried to load ".concat(e)),Promise.resolve()},setValue:function(e,t){return console.error("Storage not implemented"),console.log("tried to set ".concat(e)),Promise.resolve()},remove:function(){},hasKey:function(){}},j=r.a.createContext(u),d=n(4),f=Object(c.createContext)({options:{selectedDeck:"",theme:"light",animation:"3D"},setOptions:function(){}}),h=n(0),b=function(e){var t=e.children,n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",r=Object(c.useState)({selectedDeck:"ES-EN",theme:n,animation:"3D"}),i=Object(o.a)(r,2),s=i[0],l=i[1],u=Object(c.useContext)(j);return Object(c.useEffect)((function(){u.getValue("preferences").then((function(e){if(e){var t=Object.entries(s).reduce((function(t,n){var c,r=Object(o.a)(n,2),i=r[0],s=r[1],l=null!==(c=e[i])&&void 0!==c?c:s;return Object(a.a)(Object(a.a)({},t),{},Object(d.a)({},i,l))}),{});l(t)}}))}),[]),Object(h.jsx)(f.Provider,{value:{options:s,setOptions:l},children:t})},O=n(7),m=(n(15),function(e){var t,n=e.deck,r=Object(c.useState)(0),i=Object(o.a)(r,2),s=i[0],a=i[1],l=Object(c.useState)(!0),u=Object(o.a)(l,2),j=u[0],d=u[1],f=Object(c.useRef)(null),b=function(){a(Math.floor(Math.random()*n.length)),d(!0),f.current.style.transform=O.transform};Object(c.useEffect)((function(){b()}),[n]);var O={transform:"rotateY(0.0turn)"},m={transform:"rotateY(0.5turn)"},v=null!==(t=n[s])&&void 0!==t?t:{front:"",back:""};return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"card",style:{perspective:"1000px"},children:Object(h.jsxs)("div",{onClick:function(){if(f.current){var e=f.current,t=[O,m],n=e.animate(t,{duration:700,easing:"ease-in-out"});j||(n.finish(),n.reverse()),n.addEventListener("finish",(function(){e.style.transform=j?m.transform:O.transform}),{once:!0}),d(!j)}},ref:f,style:{height:"300px",transformStyle:"preserve-3d"},children:[Object(h.jsx)("div",{className:"card__face",style:{WebkitBackfaceVisibility:"hidden"},children:v.front}),Object(h.jsx)("div",{className:"card__face",style:{WebkitBackfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:v.back})]})}),Object(h.jsx)("div",{children:Object(h.jsx)("span",{children:"click card to show reverse"})}),Object(h.jsx)("button",{className:"show_random_card_btn",onClick:function(){d(!0),b()},children:"Random Card"})]})}),v=function(){var e=Object(c.useContext)(f),t=e.options,n=e.setOptions,r=Object(c.useContext)(j);return[t,function(e){r.setValue("preferences",e).then((function(){return n(e)}))}]},x=function(e){var t=e.deck,n=v(),c=Object(o.a)(n,2),r=c[0],i=(c[1],{"2D":m,"3D":m}[r.animation]);return Object(h.jsx)(i,{deck:t})},p=[{fileName:"ES-EN",title:"Spanish to English"},{fileName:"FR-EN",title:"French to English"},{fileName:"EN-ES",title:"English to Spanish"},{fileName:"EN-FR",title:"English to French"}],g=function(e){e.onUpdate,Object(c.useContext)(j);var t=v(),n=Object(o.a)(t,2),r=n[0],i=n[1];return Object(h.jsx)("section",{children:Object(h.jsxs)("fieldset",{className:"option-list",onChange:function(e){var t=e.target.value,n=Object(a.a)(Object(a.a)({},r),{},{selectedDeck:t});i(n)},children:[Object(h.jsx)("legend",{className:"option-header",children:"Choose your deck"}),Object(h.jsx)("ul",{style:{display:"inline-block",listStyle:"none",paddingLeft:"0"},children:p.map((function(e){return Object(h.jsx)("li",{className:"option-card",style:{textAlign:"left"},children:Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{value:e.fileName,name:"deck",type:"radio",checked:r.selectedDeck===e.fileName}),"\xa0",Object(h.jsx)("span",{children:e.title})]})})}))})]})})},k=function(){var e=v(),t=Object(o.a)(e,1)[0],n=Object(c.useState)(!1),r=Object(o.a)(n,2),i=r[0],s=r[1],a=Object(c.useState)([]),l=Object(o.a)(a,2),u=l[0],d=l[1],f=Object(c.useContext)(j),h=function(e){return(t="/data",n=e,fetch("".concat(t,"/").concat(n,".json")).then((function(e){return e.json()}))).then((function(e){return f.setValue("deck",e).then((function(){return d(e)}))}));var t,n};return Object(c.useEffect)((function(){f.getValue("deck").then((function(e){return e?function(e){return Promise.resolve(e).then(d)}(e):h(t.selectedDeck)})).then((function(){return s(!0)}))}),[]),Object(c.useEffect)((function(){i&&h(t.selectedDeck)}),[t.selectedDeck]),[u]},N=function(e){Object(O.a)(e);var t=v(),n=(Object(o.a)(t,1)[0],k()),c=Object(o.a)(n,1)[0];return c.length?Object(h.jsxs)("article",{children:[Object(h.jsx)("h1",{className:"logo",children:"Flashcardly!"}),Object(h.jsx)("section",{children:Object(h.jsx)(x,{deck:c})}),Object(h.jsx)("section",{style:{paddingTop:"2rem"},children:Object(h.jsx)(g,{})})]}):Object(h.jsx)("article",{children:"...loading"})};var y=function(){var e=v(),t=Object(o.a)(e,2),n=t[0],c=t[1],r=n.theme,i="light"===r;return Object(h.jsxs)("div",{className:"App ".concat(r),children:[Object(h.jsx)("div",{className:"switch-container",children:Object(h.jsxs)("label",{className:"switch",children:[Object(h.jsx)("input",{onChange:function(){var e=i?"dark":"light";c(Object(a.a)(Object(a.a)({},n),{},{theme:e}))},checked:i,type:"checkbox"}),Object(h.jsxs)("span",{className:"slider round",children:[Object(h.jsx)("span",{className:"theme-icon--dark",children:"\ud83c\udf15"}),Object(h.jsx)("span",{className:"theme-icon--light",children:"\ud83c\udf1e"})]})]})}),Object(h.jsx)(N,{})]})},S=function(){return Object(h.jsx)(j.Provider,{value:l,children:Object(h.jsx)(b,{children:Object(h.jsx)(y,{})})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),i(e),s(e)}))};s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(S,{})}),document.getElementById("root")),E()}},[[16,1,2]]]);
//# sourceMappingURL=main.27f5bce3.chunk.js.map